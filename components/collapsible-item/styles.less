@media-group-item-padding: 16px;
@list-item-padding: 8px 12px;

.list-group-item {
  &.collapsible-item {
    padding: 0;
    border: none;

    &:hover {
      background-color: transparent;
    }

    [data-toggle=collapse] {
      padding: @list-item-padding;
      border: 1px solid @gray-lighter;
      border-top: none;
      position: relative;

      &:hover {
        background-color: @gray-lightest;
      }

      &::before {
        content: "";
        position: absolute;
        top: 14px;
        right: 12px;
        width: 7px;
        height: 7px;
        background-color: @brand-primary;
        border-radius: 50%;
      }

      &:not(.collapsed) {
        border-bottom: none;

        &::before {
          background-color: @gray-light;
        }
      }
    }

    &.active {
      [data-toggle=collapse] {
        &::before {
          border: 2px solid white;
          width: 9px;
          height: 9px;
        }

        &:not(.collapsed) {
          border-bottom: none;

          &::before {
            background-color: @gray-light;
          }
        }
      }
    }

    & > ul, & > .list-group {
      height: 0px;
      overflow: hidden;
      margin-bottom: 0px;

      .list-group-item:first-child {
        border-top: none;
      }

      &[aria-expanded=true] {
        height: auto;
        overflow: inherit;

        &.collapsing {
          overflow: hidden;
        }

        .list-group-item:first-child {
          border-top: 1px solid @gray-lighter;
        }
      }
    }

    &.active {
      border-color: @brand-primary;
      background-color: @brand-primary;

      [data-toggle=collapse] {
        border-bottom: none;
        border-color: @brand-primary;

        &:hover {
          background-color: @brand-primary;
        }
      }

      & > ul, & > .list-group {
        .list-group-item:first-child {
          border-top: none;
        }
      }
    }

    &.media-group-item {
      [data-toggle=collapse] {
        padding: @media-group-item-padding;
        border-left: none;
        border-right: none;
      }

      &:last-child [data-toggle=collapse] {
        border-bottom: none;
      }

      & > ul, & > .list-group {
        .list-group-item {
          border-left: none;
          border-right: none;

          &.dropdown-item .dropdown-toggle {
            right: 2px;
          }
        }
      }

      &.active {
        border-bottom: none;

        & > ul, & > .list-group {
          * {
            color: @text-color;
          }
        }
      }
    }
  }
}
